<div class="container mt-4">
  <h2 class="mb-4">Tasks</h2>
  <ul class="list-group">
    <li *ngFor="let task of tasks" class="list-group-item">
      <div class="form-check">
        <input type="checkbox" class="form-check-input" [(ngModel)]="task.completed"
          [disabled]="!canCompleteTask(task)">
        <label class="form-check-label" [class.completed]="task.completed">
          <span class="badge bg-primary me-2">{{ task.type }}</span>
          {{ task.name }}
        </label>
      </div>
      <ul *ngIf="task.deps.length > 0" class="list-unstyled ps-3">
        <li *ngFor="let dep of task.deps" [class.completed]="isDependencyCompleted(dep)" class="text-secondary">
          Depends on: <span>{{ dep }}</span>
        </li>
      </ul>
    </li>
  </ul>

  <footer class="mt-4">
    <span class="badge bg-info">[BUG]: {{ getTaskCounts().BUG }}</span>
    <span class="badge bg-info">[IMPR]: {{ getTaskCounts().IMPR }}</span>
    <span class="badge bg-info">[IMPL]: {{ getTaskCounts().IMPL }}</span>
    <span class="badge bg-info">[INFRA]: {{ getTaskCounts().INFRA }}</span>
  </footer>
</div>